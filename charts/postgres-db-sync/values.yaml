imagePullSecrets: []
# TODO = implement LIST here?
nameOverride: ""
fullnameOverride: ""

# TODO = Generic base image
image:
  repository: "193568805012.dkr.ecr.ap-southeast-2.amazonaws.com/atmosphere/utility"
  pullPolicy: IfNotPresent
  tag: "v1.2.6"

# imagePullSecrets:
#   - name: "ecr-registry-secret"

cronjob:
  schedule: "@hourly"
  lagMinutes: "60"
  truncateTargetTable: "FALSE"
  restartPolicy: "Never"

# Provide the DBs to reference later in the table mappings

dbs:
  # These db nicknames are used when we export env variables
  # To access the passwords for the DB since
  # secretKeyRef is the only way to get data from the secret
  sourceDB1:
    secret: "postgres-secret-0"
    host: "localhost:9999"
    user: "jope"
    passwordKey: "postgres-password"
    name: "gooddb"

  targetDB1:
    secret: "outside-postgres-secret-0"
    host: "my-other-server.server"
    user: "tradmin"
    passwordKey: "pgpass"
    name: "otherdb"

# Now make the table mappings

tableMappings:
  - inputTable: predictions 
    inputSchema: public
    inputDB: sourceDB1
    timestampColumn: time_column
    outputTable: output_name_bar
    outputDB: targetDB1
    outputSchema: public
   
  - inputTable: outcomes
    inputSchema: public
    inputDB: sourceDB1
    timestampColumn: time_column
    outputTable: output_name_bar
    outputDB: targetDB1
    outputSchema: public
